
@layer base {
  /* Touch optimization for mobile */
  @media (max-width: 768px) {
    /* Basic mobile form optimizations */
    input, textarea, select, button {
      font-size: 16px; /* Prevents zoom on iOS */
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }
    
    /* Improved touch targets */
    button, [role="button"], input[type="radio"], input[type="checkbox"] {
      min-height: 44px;
      min-width: 44px;
      touch-action: manipulation;
    }
    
    /* Essential mobile layout fixes */
    .card-mobile {
      margin: 0 0.5rem 0.75rem 0.5rem;
    }

    .shadow-premium {
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    /* Partner form mobile optimization */
    .partner-form-section {
      margin-bottom: 1rem !important; /* Reduced from default spacing */
    }

    .partner-form-content {
      padding: 1rem !important; /* Consistent content padding */
      space-y: 1rem !important; /* Reduced internal spacing */
    }

    .partner-form-header {
      padding: 1rem !important; /* Consistent header padding */
    }

    /* Grid optimizations for partner forms */
    .partner-grid-mobile {
      grid-template-columns: 1fr !important;
      gap: 0.75rem !important;
    }

    .partner-grid-two-col {
      grid-template-columns: 1fr 1fr !important;
      gap: 0.75rem !important;
    }

    /* Reduce spacing in form sections */
    .space-y-4 > :not([hidden]) ~ :not([hidden]) {
      margin-top: 0.75rem !important;
    }

    .space-y-5 > :not([hidden]) ~ :not([hidden]) {
      margin-top: 1rem !important;
    }

    .space-y-6 > :not([hidden]) ~ :not([hidden]) {
      margin-top: 1rem !important;
    }

    /* Targeting tools section optimization */
    .targeting-tool-item {
      padding: 0.75rem !important;
      margin-bottom: 0.5rem !important;
    }

    /* Budget section optimization */
    .budget-results-display {
      padding: 0.75rem !important;
      space-y: 0.5rem !important;
    }

    .budget-results-display > :not([hidden]) ~ :not([hidden]) {
      margin-top: 0.5rem !important;
    }

    /* Contact form optimization */
    .contact-form-grid {
      gap: 0.75rem !important;
    }

    /* Input height consistency */
    .h-11, .h-12 {
      height: 44px !important;
      font-size: 16px;
      padding: 0.75rem !important;
    }

    /* Onboarding flow specific fixes */
    .onboarding-step-card {
      background: white !important;
      backdrop-filter: none !important;
      touch-action: manipulation !important;
      pointer-events: auto !important;
      -webkit-tap-highlight-color: transparent;
    }

    /* Ensure all interactive elements in onboarding are touchable */
    .onboarding-step-card *,
    .onboarding-step-card button,
    .onboarding-step-card input,
    .onboarding-step-card select,
    .onboarding-step-card label {
      touch-action: manipulation;
      pointer-events: auto;
      -webkit-tap-highlight-color: transparent;
    }

    /* Fix goal selection cards */
    .group.relative.overflow-hidden.border-2 {
      touch-action: manipulation;
      pointer-events: auto;
      min-height: 48px;
      cursor: pointer;
      -webkit-tap-highlight-color: transparent;
    }

    /* Fix subcategory selection buttons */
    .grid button {
      touch-action: manipulation;
      pointer-events: auto;
      -webkit-tap-highlight-color: transparent;
      min-height: 48px;
    }

    /* Navigation buttons */
    .flex.justify-between.items-center button {
      min-height: 48px;
      min-width: 120px;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }

    /* Progress indicators */
    .h-10.w-10.rounded-full {
      touch-action: manipulation;
      pointer-events: auto;
    }

    /* Better mobile typography */
    .text-4xl.md\:text-5xl.lg\:text-6xl.xl\:text-7xl {
      font-size: 2.5rem;
      line-height: 1.1;
    }

    /* Hero paragraph text - make smaller on mobile */
    .text-base.md\:text-lg.font-light.text-blue-gray-300.max-w-2xl.mx-auto.leading-relaxed {
      font-size: 0.5rem; /* 8px */
      line-height: 1.4;
    }

    /* Mobile form improvements */
    .py-16 {
      padding-top: 2rem;
      padding-bottom: 2rem;
    }

    .py-20 {
      padding-top: 2.5rem;
      padding-bottom: 2.5rem;
    }

    .p-8 {
      padding: 1rem;
    }

    /* Prevent horizontal scrolling */
    body {
      overflow-x: hidden;
    }

    /* Better focus states */
    input:focus,
    select:focus,
    button:focus {
      outline: 2px solid #3b82f6;
      outline-offset: 2px;
    }

    /* Button active states */
    button:active {
      transform: scale(0.98);
    }

    /* Select elements */
    select {
      -webkit-appearance: menulist;
      appearance: menulist;
      touch-action: manipulation;
      height: 48px;
      font-size: 16px;
      padding: 0.75rem;
    }

    /* Image and media optimization */
    img {
      max-width: 100%;
      height: auto;
    }

    video {
      width: 100%;
      height: auto;
    }
  }
}

/* Disable animations on mobile for better performance */
@media (max-width: 768px) and (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
