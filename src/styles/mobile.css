/* Touch optimization for mobile */
@media (max-width: 768px) {
    /* Basic mobile form optimizations */
    input, textarea, select, button {
      font-size: 16px; /* Prevents zoom on iOS */
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }
    
    /* Improved touch targets */
    button, [role="button"], input[type="radio"], input[type="checkbox"] {
      min-height: 44px;
      min-width: 44px;
      touch-action: manipulation;
    }
    
    /* Essential mobile layout fixes */
    .card-mobile {
      margin: 0 0.5rem 0.75rem 0.5rem;
    }

    .shadow-premium {
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    /* Onboarding flow specific fixes */
    .onboarding-step-card {
      background: white !important;
      backdrop-filter: none !important;
      touch-action: manipulation !important;
      pointer-events: auto !important;
      -webkit-tap-highlight-color: transparent;
    }

    /* Ensure all interactive elements in onboarding are touchable */
    .onboarding-step-card *,
    .onboarding-step-card button,
    .onboarding-step-card input,
    .onboarding-step-card select,
    .onboarding-step-card label {
      touch-action: manipulation;
      pointer-events: auto;
      -webkit-tap-highlight-color: transparent;
    }

    /* Fix goal selection cards */
    .group.relative.overflow-hidden.border-2 {
      touch-action: manipulation;
      pointer-events: auto;
      min-height: 48px;
      cursor: pointer;
      -webkit-tap-highlight-color: transparent;
    }

    /* Fix subcategory selection buttons */
    .grid button {
      touch-action: manipulation;
      pointer-events: auto;
      -webkit-tap-highlight-color: transparent;
      min-height: 48px;
    }

    /* Navigation buttons */
    .flex.justify-between.items-center button {
      min-height: 48px;
      min-width: 120px;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }

    /* Progress indicators */
    .h-10.w-10.rounded-full {
      touch-action: manipulation;
      pointer-events: auto;
    }

    /* Better mobile typography */
    .text-4xl.md\:text-5xl.lg\:text-6xl.xl\:text-7xl {
      font-size: 2rem; /* Reduced from 2.5rem */
      line-height: 1.1;
    }

    /* Hero paragraph text - improve readability on mobile */
    .text-base.md\:text-lg.font-light.text-blue-gray-300.max-w-2xl.mx-auto.leading-relaxed {
      font-size: 0.875rem; /* 14px - much more readable */
      line-height: 1.5;
    }

    /* Onboarding step titles */
    .font-display.text-4xl.md\:text-5xl.lg\:text-6xl {
      font-size: 2rem; /* 32px on mobile */
      line-height: 1.2;
    }

    /* Card titles and headings */
    h2.text-2xl, h2.text-xl {
      font-size: 1.125rem; /* 18px */
      line-height: 1.3;
    }

    h3.text-xl {
      font-size: 1rem; /* 16px */
      line-height: 1.4;
    }

    /* Form labels and descriptions */
    .text-lg {
      font-size: 0.875rem; /* 14px */
      line-height: 1.5;
    }

    /* Button text optimization */
    button {
      font-size: 1rem; /* 16px minimum for buttons */
    }

    /* Mobile form improvements */
    .h-12 {
      height: 48px;
      font-size: 16px;
      padding: 0.75rem;
    }

    /* Grid layouts */
    .grid.grid-cols-1.md\:grid-cols-2.lg\:grid-cols-3 {
      grid-template-columns: 1fr;
      gap: 1rem;
    }

    .grid.grid-cols-2.md\:grid-cols-4 {
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }

    /* Spacing optimizations */
    .py-16 {
      padding-top: 3rem;
      padding-bottom: 3rem;
    }

    .py-20 {
      padding-top: 4rem;
      padding-bottom: 4rem;
    }

    .p-8 {
      padding: 1.5rem;
    }

    .space-y-4 > :not([hidden]) ~ :not([hidden]) {
      margin-top: 1rem;
    }

    .space-y-5 > :not([hidden]) ~ :not([hidden]) {
      margin-top: 1.25rem;
    }

    /* Prevent horizontal scrolling */
    body {
      overflow-x: hidden;
    }

    /* Better focus states */
    input:focus,
    select:focus,
    button:focus {
      outline: 2px solid #3b82f6;
      outline-offset: 2px;
    }

    /* Button active states */
    button:active {
      transform: scale(0.98);
    }

    /* Select elements */
    select {
      -webkit-appearance: menulist;
      appearance: menulist;
      touch-action: manipulation;
      height: 48px;
      font-size: 16px;
      padding: 0.75rem;
    }

    /* Image and media optimization */
    img {
      max-width: 100%;
      height: auto;
    }

    video {
      width: 100%;
      height: auto;
    }

    /* Chat iframe mobile optimizations */
    .chat-container {
      margin: 0 -1rem;
      border-radius: 0;
    }

    .responsive-chat-iframe {
      min-height: calc(100vh - 400px);
      max-height: 80vh;
      border-radius: 0;
    }

    /* Ensure proper touch target areas for chat */
    .chat-interface button,
    .chat-interface input,
    .chat-interface textarea {
      min-height: 44px;
      touch-action: manipulation;
    }

    /* Handle orientation changes */
    @media (orientation: landscape) {
      .responsive-chat-iframe {
        min-height: calc(100vh - 200px);
        max-height: 90vh;
      }
    }
  }

  /* Carousel dot indicators - smaller on mobile */
  .w-2.h-2.rounded-full,
  .w-1\.5.h-1\.5.rounded-full {
    width: 0.25rem !important;  /* 4px for compact mobile view */
    height: 0.25rem !important;
  }

/* Disable animations on mobile for better performance */
@media (max-width: 768px) and (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
